const navSwitch=document.querySelector("#nav-toggle"),navMenu=document.querySelector("#site-nav .menu");function openNav(e){e.target.checked?navMenu.classList.add("active"):navMenu.classList.remove("active")}navSwitch.addEventListener("change",openNav,!1);const sidebar=document.querySelectorAll(".sidebar"),headerClasses=document.getElementById("site-header").classList;var lastScrollTop=0,downScroll=!1,homePage=!0,compact=!1,timeout=null;headerClasses.contains("l-compact")&&(homePage=!1);function fadeInOut(e){e.add("fade"),timeout&&(clearTimeout(timeout),timeout=null),timeout=setTimeout(function(){e.remove("fade")},500)}function scrollShow(){let e=window.pageYOffset||document.documentElement.scrollTop;if(e>lastScrollTop&&!downScroll){if(lastScrollTop>=125&&(downScroll=!0,homePage&&!compact&&(headerClasses.add("l-compact"),fadeInOut(headerClasses),compact=!0),sidebar))for(let e=0;e<sidebar.length;e++)sidebar[e].classList.add("active")}else if(e<lastScrollTop&&downScroll&&lastScrollTop<125&&(downScroll=!1,homePage&&(headerClasses.remove("l-compact"),fadeInOut(headerClasses),compact=!1),sidebar))for(let e=0;e<sidebar.length;e++)sidebar[e].classList.remove("active");lastScrollTop=e<=0?0:e}document.addEventListener("scroll",scrollShow,!1);const main=document.getElementById("site-main"),progress=document.getElementById("reading-progress");function getScrollProgress(n){let e=n.getBoundingClientRect(),s=e.height,o=window.innerHeight,i=s-o,t=0;return e.top<0&&(t=Math.abs(e.top)/i*100),t}function showReadingProgress(){progress.setAttribute("value",getScrollProgress(main))}progress&&document.addEventListener("scroll",showReadingProgress,!1);const themeSwitch=document.querySelector("#theme-toggle");function switchTheme(e){e.target.checked?(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-theme","dark"),themeSwitch.checked=!0):(localStorage.setItem("theme","light"),document.documentElement.setAttribute("data-theme","light"),themeSwitch.checked=!1)}themeSwitch.addEventListener("change",switchTheme,!1),document.documentElement.getAttribute("data-theme")=="dark"&&(themeSwitch.checked=!0)